<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cost Estimation</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <link rel='stylesheet' type="text/css" href="style.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script>
        
        //import myJson from './data.json' assert {type: 'json'};
        var o = {
            "services": [
                { "service_id": "service0", "service_name": "-Select-" },
                { "service_id": "service1", "service_name": "Design" },
                { "service_id": "service2", "service_name": "Composition" },
                { "service_id": "service3", "service_name": "Copy editing" }
            ],
            "service0": [{ "types": [{ "id": "000", "typeName": "-Select-" }] }],
            "service1": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "001", "typeName": "Interior" },
                    { "id": "002", "typeName": "Cover" },
                    { "id": "003", "typeName": "Mechanical" }
                ],
                "000": ["---", "---", 0],

                "001": ["per title", "---", 200.00],
                "002": ["per cover", "---", 300.00],
                "003": ["per cover", "---", 15.00]
            }],
            "service2": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "004", "typeName": "Simple" },
                    { "id": "005", "typeName": "Moderate" },
                    { "id": "006", "typeName": "Complex" },
                    { "id": "007", "typeName": "Math/Chemical" },
                    { "id": "008", "typeName": "Alterations" }
                ],
                "000": ["---", "---", 0],
                "004": ["per book page", "1‐ or 2‐column; <30% art as a percentage of total book pages; <10% tables.No special elements", 1.00],
                "005": ["per book page", "1‐ or 2‐column; 30‐60% art as a percentage of book pages; tables, graphic treatments; minimal box features", 1.75],
                "006": ["per book page", "1‐ or 2‐column; very few Math or chemical equations, >60% art as a percentage of total book pages; >50% special features; Recurring box features", 3.00],
                "007": ["per book page", "1‐ or 2‐column; Heavy Math or chemical equations, >60% art as a percentage of total book pages; >50% special features; Recurring box features", 5.00],
                "008": ["per hour", "above 15% alterations", 10]
            }],
            "service3": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "009", "typeName": "Light" },
                    { "id": "010", "typeName": "Moderate" },
                    { "id": "011", "typeName": "Heavy" }
                ],
                "000": ["---", "---", 0],
                "009": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations, abbreviations, formatting (bold/italic/underline…), grammar, numeration, titles, headings, cross‐references, floats, citations, and house style.", 1.50],
                "010": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations,abbreviations, formatting (bold/italic/underline…), numeration, titles, headings, cross‐references, floats, citations, and house style. Fixing for more extensive grammatical errors. ", 2.00],
                "011": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations, abbreviations, formatting (bold/italic/underline…), numeration, titles, headings, cross‐references, floats, citations, and house style. Extensive rewriting for grammatical, organizational, and consistency errors.", 2.50]
            }]
        }

        var o1 = {

            "services": [
                { "service_id": "service0", "service_name": "-Select-" },
                { "service_id": "service1", "service_name": "Design" },
                { "service_id": "service2", "service_name": "Composition" },
                { "service_id": "service3", "service_name": "Project Management" },
                { "service_id": "service4", "service_name": "Illustrations" },
                { "service_id": "service5", "service_name": "Photo Manipulation" },
                { "service_id": "service6", "service_name": "Copyediting" },
                { "service_id": "service7", "service_name": "Editorial Proofreading" },
                { "service_id": "service8", "service_name": "Indexing" },
                { "service_id": "service9", "service_name": "Data Services" }],
            "service0": [{ "types": [{ "id": "000", "typeName": "-Select-" }] }],
            "service1": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "001", "typeName": "Interior" },
                    { "id": "002", "typeName": "Cover" },
                    { "id": "003", "typeName": "Mechanical" }],
                "000": ["---", "---", 0],

                "001": ["per title", "---", 200.00],
                "002": ["per cover", "---", 300.00],
                "003": ["per cover", "---", 15.00]
            }],
            "service2": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "004", "typeName": "Simple" },
                    { "id": "005", "typeName": "Moderate" },
                    { "id": "006", "typeName": "Complex" },
                    { "id": "007", "typeName": "Math/Chemical" },
                    { "id": "008", "typeName": "Alterations" }],
                "000": ["---", "---", 0],
                "004": ["per book page", "1‐ or 2‐column; <30% art as a percentage of total book pages; <10% tables.No special elements", 1.00],
                "005": ["per book page", "1‐ or 2‐column; 30‐60% art as a percentage of book pages; tables, graphic treatments; minimal box features", 1.75],
                "006": ["per book page", "1‐ or 2‐column; very few Math or chemical equations, >60% art as a percentage of total book pages; >50% special features; Recurring box features", 3.00],
                "007": ["per book page", "1‐ or 2‐column; Heavy Math or chemical equations, >60% art as a percentage of total book pages; >50% special features; Recurring box features", 5.00],
                "008": ["per hour", "above 15% alterations", 10]
            }],
            "service3": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "007", "typeName": "Project Management" }],
                "000": ["---", "---", 0],
                "007": ["per book page", "Includes author contact, schedule coordination, hiring/supervising/coordinating of copyeditor, editorial proofreader, indexer, trafficking of materials, art management, quality control, permission review and weekly status reports ", 1.50]
            }],
            "service4": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "009", "typeName": "Render-simple" },
                    { "id": "010", "typeName": "Render-moderate" },
                    { "id": "011", "typeName": "Render-complex" },
                    { "id": "012", "typeName": "Pickup with Modifications - simple" },
                    { "id": "013", "typeName": "Pickup with Modifications - moderate" },
                    { "id": "014", "typeName": "Pickup with Modifications  - complex" }

                ],
                "000": ["---", "---", 0],
                "009": ["per image", "Includes charts or graphs with a simple to moderate level of data, diagrams with simple elements (e.g., shapes, equations, text), and simple technical illustrations. A clean manuscript has been supplied.", 4.00],
                "010": ["per image", "Includes charts or graphs with a complex level of data, diagrams with moderate elements (i.e., food items, single animals, etc.), simple maps, simple anatomy (e.g., singular bones, stomach, kidneys), and moderate technical illustrations. Art manuscript and style require some creativity/research.", 7.00],
                "011": ["per image", "Includes charts or graphs with a high level of complexity, diagrams with complex elements (e.g., people, multiple animals, anatomy), complex technical illustrations, detailed maps. Art manuscript and style require a high level of creativity/research.", 20.00],
                "012": ["per image", "Simple style update (as dictated by the client instructions); 1–10 simple to moderate text/leader/arrow changes.", 1.25],
                "013": ["per image", "Moderate style update (as dictated by the client instructions); 11+ moderate text/leader/arrow changes.", 2.00],
                "014": ["per image", "Complex style update (as dictated by the client instructions); major modifications required (e.g., complex recolorization, complex crop of provided piece of art, minor redrawing)", 3.00]
            }],
            "service5": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "015", "typeName": "Simple" },
                    { "id": "016", "typeName": "Moderate" },
                    { "id": "017", "typeName": "Complex" },
                    { "id": "018", "typeName": "Art Modification" }],
                "000": ["---", "---", 0],
                "015": ["per photo", "Includes charts or graphs with a simple to moderate level of data, diagrams with simple elements (e.g., shapes, equations, text), and simple technical illustrations. A clean manuscript has been supplied.", 1.00],
                "016": ["per photo", "Includes charts or graphs with a complex level of data, diagrams with moderate elements (i.e., food items, single animals, etc.), simple maps, simple anatomy (e.g., singular bones, stomach, kidneys), and moderate technical illustrations. Art manuscript and style require some creativity/research.", 2.00],
                "017": ["per photo", "Includes charts or graphs with a high level of complexity, diagrams with complex elements (e.g., people, multiple animals, anatomy), complex technical illustrations, detailed maps. Art manuscript and style require a high level of creativity/research.", 3.00],
                "018": ["per image", "---", 0.25]
            }],
            "service6": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "019", "typeName": "Light" },
                    { "id": "020", "typeName": "Moderate" },
                    { "id": "021", "typeName": "Heavy" }
                ],
                "000": ["---", "---", 0],
                "019": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations, abbreviations, formatting (bold/italic/underline…), grammar, numeration, titles, headings, cross‐references, floats, citations, and house style.", 1.50],
                "020": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations,abbreviations, formatting (bold/italic/underline…), numeration, titles, headings, cross‐references, floats, citations, and house style. Fixing for more extensive grammatical errors. ", 2.00],
                "021": ["per 250-words", "Checking and fixing for spellings, punctuations, capitalizations, abbreviations, formatting (bold/italic/underline…), numeration, titles, headings, cross‐references, floats, citations, and house style. Extensive rewriting for grammatical, organizational, and consistency errors.", 2.50]
            }],
            "service7": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "022", "typeName": "Editorial Proofreading" }
                ],
                "000": ["---", "---", 0],
                "022": ["per book page", "Checking and fixing for consistent style.", 1.00]
            }],
            "service8": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "023", "typeName": "Indexing" }
                ],
                "000": ["---", "---", 0],
                "023": ["per indexable page", "Checking and finding for index terms from chapters.", 1.00]
            }],
            "service9": [{
                "types": [
                    { "id": "000", "typeName": "-Select-" },
                    { "id": "024", "typeName": "ePub-simple" },
                    { "id": "025", "typeName": "ePub-modurate" },
                    { "id": "026", "typeName": "ePub-complex" },
                    { "id": "027", "typeName": "Bookmarked PDF" }
                ],
                "000": ["---", "---", 0],
                "024": ["per book page", "---", 0.25],
                "025": ["per book page", "---", 0.45],
                "026": ["per book page", "---", 0.80],
                "027": ["per book page", "---", 0.15]
            }]
        }

        var row_id = 1;
        var row_id1 = 1;

        function addRow(tableID) {

            var table = document.getElementById(tableID);
            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
            var rowID = row.id = 'r' + row_id;
            row_id++;
            var colCount = table.rows[0].cells.length;
            for (var i = 0; i < colCount; i++) {

                var newcell = row.insertCell(i);

                newcell.id = rowID + "c" + i;

                newcell.innerHTML = table.rows[0].cells[i].innerHTML;

            }
            populateSelect(rowID);
            var typeColId = '' + rowID + 'c2';
            var unitsColId = '' + rowID + 'c3';
            var unitColId = '' + rowID + 'c4';
            var unitCostColId = '' + rowID + 'c5';
            var totalColId = '' + rowID + 'c6';

            document.getElementById('' + typeColId + '').innerHTML = "";
            document.getElementById('' + unitsColId + '').innerHTML = "";
            document.getElementById('' + unitColId + '').innerHTML = "";
            document.getElementById('' + unitCostColId + '').innerHTML = "";
            document.getElementById('' + totalColId + '').innerHTML = "";
            if (document.getElementById('icon' + rowID + '') != null) {
                document.getElementById('icon' + rowID + '').innerHTML = "";
            }


        }


        function addRow1(tableID) {
            var table = document.getElementById(tableID);
            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
            var rowID = row.id = 'row' + row_id1;
            row_id1++;
            var colCount = table.rows[0].cells.length;
            for (var i = 0; i < colCount; i++) {

                var newcell = row.insertCell(i);

                newcell.id = rowID + "c" + i;

                newcell.innerHTML = table.rows[0].cells[i].innerHTML;

            }
            populateSelect1(rowID);
            var typeColId = '' + rowID + 'c2';
            var unitsColId = '' + rowID + 'c3';
            var unitColId = '' + rowID + 'c4';
            var unitCostColId = '' + rowID + 'c5';
            var totalColId = '' + rowID + 'c6';

            document.getElementById('' + typeColId + '').innerHTML = "";
            document.getElementById('' + unitsColId + '').innerHTML = "";
            document.getElementById('' + unitColId + '').innerHTML = "";
            document.getElementById('' + unitCostColId + '').innerHTML = "";
            document.getElementById('' + totalColId + '').innerHTML = "";
            if (document.getElementById('icon' + rowID + '') != null) {
                document.getElementById('icon' + rowID + '').innerHTML = "";
            }
        }

        function deleteRow(tableID) {


            var table = document.getElementById(tableID);
            var rowCount = table.rows.length;

            for (var i = 0; i < rowCount; i++) {
                var row = table.rows[i];
                var row1 = table.rows[0];
                var chkbox1 = row1.cells[0].childNodes[0];
                var chkbox = row.cells[0].childNodes[0];
                if (null != chkbox && true == chkbox.checked) {
                    if (null != chkbox1 && true == chkbox1.checked) {
                        alert("Can't delete first row!");
                        break;
                    }
                    table.deleteRow(i);
                    rowCount--;
                    i--;

                }
            }
            displayGrandTotal('tb');
        }



        function deleteRow1(tableID) {

            try {
                var table = document.getElementById(tableID);
                var rowCount = table.rows.length;
                for (var i = 0; i < rowCount; i++) {
                    var row = table.rows[i];
                    var row1 = table.rows[0];
                    var chkbox1 = row1.cells[0].childNodes[0];
                    var chkbox = row.cells[0].childNodes[0];
                    if (null != chkbox && true == chkbox.checked) {
                        if (null != chkbox1 && true == chkbox1.checked) {
                            alert("Can't delete first row!");
                            break;
                        }
                        table.deleteRow(i);
                        rowCount--;
                        i--;

                    }
                }
            } catch (e) {
                alert(e);
            }
            displayGrandTotal('tb1');
        }



        function load_data() {
            var select = document.getElementById('myselect');
            var option = select.options[select.selectedIndex].value;

            if (option == 'publisher') {
                let table = document.getElementById('tb1');
                let rowCount = table.rows.length;


                document.getElementById("button1").style.display = "none";
                document.getElementById("grandtot").innerHTML = "";
                document.getElementById("mytable1").style.display = "none";
                document.getElementById("mytable2").style.display = "block";
                if (rowCount <= 1) {


                    populateSelect1("row0");

                }
                else {
                    document.getElementById("button2").style.display = "block";
                    let row1 = rowCount - 1;
                    // populateSelect1('row' + row1 + '');

                }
            } else if (option == 'author') {
                let table = document.getElementById('tb1');
                let rowCount = table.rows.length;

                document.getElementById("button2").style.display = "none";
                document.getElementById("grandtot").innerHTML = "";
                document.getElementById("mytable1").style.display = "block";
                document.getElementById("mytable2").style.display = "none";

                if (rowCount <= 1) {


                    populateSelect("r0");

                }
                else {
                    document.getElementById("button1").style.display = "block";
                    let r1 = rowCount - 1;
                }
            }
        }
        function populateSelect(rowId) {

            if (document.getElementById('' + rowId + 'c1') != null) {
                var col = document.getElementById('' + rowId + 'c1');
                var colId = col.id;

                var service_data = '<select id="ser_' + rowId + 'c1" onchange="displayTypes(' + rowId + ');">';



                for (var i = 0; i < o.services.length; i++) {

                    service_data += '<option value="' + o.services[i].service_id + '">' + o.services[i].service_name + '</option>';
                }
                service_data += '</select>';
                document.getElementById('' + colId + '').innerHTML = service_data;
            }
        }
        function displayTypes(rowId) {
            /*------ TYPES--------*/
            var serCol = document.getElementById('' + rowId.id + 'c1');
            var serColId = serCol.id;

            var service = $('#ser_' + serColId + '').val();

            var typeColId = '' + rowId.id + 'c2';


            var type_data = '<select id="type_' + typeColId + '" onchange="displayVals(' + rowId.id + ',' + serColId + ',' + typeColId + ');" >';


            for (var j = 0; j < o['' + service + ''][0].types.length; j++) {

                type_data += '<option value="' + o['' + service + ''][0].types[j].id + '">' + o['' + service + ''][0].types[j].typeName + '</option>';


            }

            type_data += '</select>&nbsp;<div style="display: inline-block;" id="icon' + rowId.id + '"></div>';


            document.getElementById('' + typeColId + '').innerHTML = type_data;

        }
        function displayVals(rowId, serColId, typeColId) {
            var typeColid = typeColId.id;
            var serColid = serColId.id;

            var service = $('#ser_' + serColid + '').val();
            var typesId = $('#type_' + typeColid + '').val();

            var unit_val = o['' + service + ''][0]['' + typesId + ''][0];
            var unit_cost = o['' + service + ''][0]['' + typesId + ''][2];
            var des = o['' + service + ''][0]['' + typesId + ''][1];

            var unitColId = '' + rowId.id + 'c4';
            var unitCostColId = '' + rowId.id + 'c5';
            var totalColId = '' + rowId.id + 'c6';
            var unitsColId = '' + rowId.id + 'c3';
            var description = document.getElementById('icon' + rowId.id + '');

            var unit = 0;

            if (unit_val == "per 250-words") {
                var unit = 1;

            } else {
                var unit = 2;
            }
            var tooltipData = '<div style="display: inline-block;" id="icon' + rowId.id + '"\
                         data-toggle="tooltip" data-placement="top"  title="'+ des + '"><svg xmlns="http://www.w3.org/2000/svg" color="#0A4C76" width="14" height="14" fill="currentColor" class="bi bi-info-square" viewBox="0 0 16 16">\
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\
                        </svg></div >';
            description.innerHTML = tooltipData;
            document.getElementById('' + unitColId + '').innerHTML = unit_val;

            document.getElementById('' + unitCostColId + '').innerHTML = '$' + unit_cost + '';

            var unitsColId = '' + rowId.id + 'c3';
            var units_data = '<input type="number" min="0"  id="units_' + rowId.id + '" value="0"  onkeyup="if(this.value<0){this.value= this.value * -1}"  onchange=" displayTotal(' + rowId.id + ',' + unit + ',' + unit_cost + ');">';

            document.getElementById('' + unitsColId + '').innerHTML = units_data;
            document.getElementById('' + totalColId + '').innerHTML = '$0';



        }
        function displayTotal(rowId, unit, unit_cost) {

            var nop = parseFloat(document.getElementById('units_' + rowId.id + '').value);
            var tot = 0.0;

            var totalColId = '' + rowId.id + 'c6';
            if (unit == 1) {
                var wCost = 0.0;
                wCost = unit_cost / 250
                tot = nop * wCost;
                tot = Math.round(tot * 100) / 100
            } else if (unit == 2) {
                tot = nop * unit_cost;
                tot = Math.round(tot * 100) / 100

            } else if (unit_cost == 0) {
                tot = 0.0;


            }
            else {
                tot = 0.0;
            }
            document.getElementById('' + totalColId + '').innerHTML = '$' + tot + '';

            displayGrandTotal('tb');
            document.getElementById("button1").style.display = "block";

        }
        function displayGrandTotal(tableID) {
            var table = document.getElementById(tableID);
            var rowCount = table.rows.length;

            var grandtot = 0.0;
            if (tableID == 'tb') {

                let table = document.getElementById(tableID);
                let rowCount = table.rows.length;
                for (var i = 0; i < row_id; i++) {

                    if (document.getElementById('r' + i + 'c6') != null) {
                        var totVal = document.getElementById('r' + i + 'c6').innerHTML;


                        var totl = totVal.replace(/\$/g, "");
                        var tot = parseFloat(totl);

                    }
                    else {
                        continue;
                    }


                    grandtot += tot;
                }
            }
            else if (tableID == 'tb1') {
                let table = document.getElementById(tableID);
                let rowCount = table.rows.length;
                for (var i = 0; i < row_id1; i++) {

                    if (document.getElementById('row' + i + 'c6') != null) {
                        var totVal = document.getElementById('row' + i + 'c6').innerHTML;


                        var totl = totVal.replace(/\$/g, "");
                        var tot = parseFloat(totl);

                    }
                    else {
                        continue;
                    }

                    grandtot += tot;
                }
            }
            grandtot = Math.round(grandtot * 100) / 100
            document.getElementById('grandtot').innerHTML = '<b>$' + grandtot + '</b>';
        }
        /*-----------------------------------Publisher-----------------------------*/
        function populateSelect1(rowId) {

            if (document.getElementById('' + rowId + 'c1') != null) {
                var col = document.getElementById('' + rowId + 'c1');
                var colId = col.id;

                var service_data = '<select id="ser_' + rowId + 'c1" onchange="displayTypes1(' + rowId + ');">';



                for (var i = 0; i < o1.services.length; i++) {

                    service_data += '<option value="' + o1.services[i].service_id + '">' + o1.services[i].service_name + '</option>';
                }
                service_data += '</select>';


                document.getElementById('' + colId + '').innerHTML = service_data;
            }

        }

        function displayTypes1(rowId) {
            /*------ TYPES--------*/

            var serCol = document.getElementById('' + rowId.id + 'c1');
            var serColId = serCol.id;
            var service = $('#ser_' + serColId + '').val();
            var typeColId = '' + rowId.id + 'c2';
            var type_data = '<select id="type_' + typeColId + '" onchange="displayVals1(' + rowId.id + ',' + serColId + ',' + typeColId + ');" >';

            for (var j = 0; j < o1['' + service + ''][0].types.length; j++) {

                type_data += '<option value="' + o1['' + service + ''][0].types[j].id + '">' + o1['' + service + ''][0].types[j].typeName + '</option>';
            }
            type_data += '</select>&nbsp;<div style="display: inline-block;" id="icon' + rowId.id + '"></div>';
            document.getElementById('' + typeColId + '').innerHTML = type_data;

        }
        function displayVals1(rowId, serColId, typeColId) {
            var typeColid = typeColId.id;
            var serColid = serColId.id;

            var service = $('#ser_' + serColid + '').val();
            var typesId = $('#type_' + typeColid + '').val();

            var unit_val = o1['' + service + ''][0]['' + typesId + ''][0];
            var unit_cost = o1['' + service + ''][0]['' + typesId + ''][2];
            var des = o1['' + service + ''][0]['' + typesId + ''][1];

            var unitColId = '' + rowId.id + 'c4';
            var unitCostColId = '' + rowId.id + 'c5';
            var totalColId = '' + rowId.id + 'c6';
            var unitsColId = '' + rowId.id + 'c3';
            var description = document.getElementById('icon' + rowId.id + '');

            var unit = 0;

            if (unit_val == "per 250-words") {
                var unit = 1;

            } else {
                var unit = 2;
            }
            var tooltipData = '<div style="display: inline-block;" id="icon' + rowId.id + '"\
                         data-toggle="tooltip" data-placement="top"  title="'+ des + '"><svg xmlns="http://www.w3.org/2000/svg" color="#0A4C76" width="14" height="14" fill="currentColor" class="bi bi-info-square" viewBox="0 0 16 16">\
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\
                        </svg></div >';
            description.innerHTML = tooltipData;
            document.getElementById('' + unitColId + '').innerHTML = unit_val;

            document.getElementById('' + unitCostColId + '').innerHTML = '$' + unit_cost + '';

            var unitsColId = '' + rowId.id + 'c3';
            var units_data = '<input type="number" min="0"  id="units_' + rowId.id + '" value="0"  onkeyup="if(this.value<0){this.value= this.value * -1}"  onchange=" displayTotal1(' + rowId.id + ',' + unit + ',' + unit_cost + ');">';

            document.getElementById('' + unitsColId + '').innerHTML = units_data;
            document.getElementById('' + totalColId + '').innerHTML = '$0';
        }

        function displayTotal1(rowId, unit, unit_cost) {
            //document.write(unit);
            var nop = parseFloat(document.getElementById('units_' + rowId.id + '').value);
            var tot = 0.0;
            var totalColId = '' + rowId.id + 'c6';
            if (unit == 1) {
                var wCost = 0.0;
                wCost = unit_cost / 250
                tot = nop * wCost;
                tot = Math.round(tot * 100) / 100
            } else if (unit == 2) {
                tot = nop * unit_cost;
                tot = Math.round(tot * 100) / 100
            } else if (unit_cost == 0) {
                tot = 0.0;
            }
            else {
                tot = 0.0;
            }
            document.getElementById('' + totalColId + '').innerHTML = '$' + tot + '';
            displayGrandTotal('tb1');
            document.getElementById("button2").style.display = "block";
        }



        /*----------------------Mail Validation-----------------*/
        $(document).ready(function () {

            $(".email").click(function () {

                document.getElementById("error").innerHTML = "";
                //alert("invalid email id");    


            });
            $(".email").change(function () {
                var inputvalues = $(this).val();
                var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                if (!regex.test(inputvalues)) {
                    document.getElementById("error").innerHTML = "Invalid email address"
                    //alert("invalid email id");    
                    return regex.test(inputvalues);
                }
            });

        });   
    </script>
</head>

<body onload="populateSelect('r0');" style="background-color:#0A4C76;">

    <div class="container-fluid col-12">
        <nav class="navbar navbar-expand-lg" id="navbar1">
            <b id="title">Cost Estimation</b>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
                <svg xmlns="http://www.w3.org/2000/svg" style="color: white;" width="16" height="16" fill="currentColor"
                    class="bi bi-list" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                        d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                </svg>
            </button>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="navbar-nav ms-auto mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" id="nav-link1" href="index.html" style="color: white;">Services</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="container-fluid col-12" style="background-color:#0A4C76">
            <br>
            <form action="#" class="form-responsive">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label id="namel">Name:</label>
                <input type="text" id="name" name="name">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                <label id="emaill">Email:</label>
                <input type="email" id="email" name="email" class="email">&nbsp;&nbsp;<p id="error"
                    style="display: inline-block;"></p>

            </form>
            <br>

        </div>
        <div class="container-fluid col-11" style="background-color: white;">
            <br>
            <div class="mb-3">
                <label>&nbsp;&nbsp;&nbsp;Customer Type:</label>
                <select id="myselect" onchange="load_data();">
                    <option value="author">Author</option>
                    <option value="publisher">Publisher</option>
                </select>

            </div>
            <table class="table mb-3 table-responsive" id="mytable" style=" width:100%">


                <thead>
                    <th style="width:5%"><input type="checkbox" name="chk" style="visibility:hidden;" /></td>
                    </th>
                    <th style="width:25%">Service</th>
                    <th style="width:25%">Type</th>
                    <th style="width:15%">Units</th>
                    <th style="width:10%">Unit</th>
                    <th style="width:10%">Unit Cost</th>
                    <th style="width:10%">Total</th>
                </thead>


            </table>
            <div id="mytable1" class="table-responsive" style="display:block;">
                <table class="table  mb-3 table-responsive " id="mytable" style="width:100%">
                    <tbody id="tb">
                        <tr id="r0">
                            <td style="width:5%" id="r0c0"><input type="checkbox" id="chk1" /></td>
                            <td style="width:25%" id="r0c1"></td>
                            <td style="width:25%" id="r0c2"></td>
                            <td style="width:15%" id="r0c3"></td>
                            <td style="width:10%" id="r0c4"></td>
                            <td style="width:10%" id="r0c5"></td>
                            <td style="width:10%" id="r0c6"></td>

                        </tr>

                    </tbody>
                </table>
            </div>

            <div id="mytable2" class="table-responsive" style="display:none">
                <table class="table  mb-3 table-responsive" id="mytable" style=" width:100%;">
                    <tbody id="tb1">
                        <tr id="row0">
                            <td style="width:5%" id="row0c0"><input type="checkbox" id="chk2" /></td>
                            <td style="width:25%" id="row0c1"></td>
                            <td style="width:25%" id="row0c2"></td>
                            <td style="width:15%" id="row0c3"></td>
                            <td style="width:10%" id="row0c4"></td>
                            <td style="width:10%" id="row0c5"></td>
                            <td style="width:10%" id="row0c6"></td>

                        </tr>

                    </tbody>
                </table>
            </div>

            <table class="table  mb-3  table-responsive" id="totalTable" style=" width:100%">
                <tbody>
                    <tr>
                        <td style="width:5%"></td>
                        <td style="width:25%"></td>
                        <td style="width:25%"></td>
                        <td style="width:15%"></td>
                        <td style="width:10%"></td>
                        <td style="width:10%"><b>Total Cost</b></td>
                        <td style="width:10%" id="grandtot"></td>

                    </tr>

                </tbody>
            </table>

        </div>
        <br>
        <br>

        <div class="row">
            <div class="container">
                <div class="container1">

                    <div class="center">
                        <div id="button1" style="display:none;">
                            <button type="button" id="Add" value="Add row" onclick="addRow('tb')"
                                class="btn btn-outline-warning">Add
                                Service(s)</button>
                            <button type="button" id="Remove" value="Delete row" onclick="deleteRow('tb')"
                                class="btn btn-outline-light">Delete
                                Service(s)</button>
                            <button type="button" id="GrandTot" value="Estimate" onclick="displayGrandTotal('tb')"
                                class="btn btn-outline-success">Estimate Now
                            </button>
                        </div>


                        <div id="button2" style="display:none;">
                            <button type="button" id="Add1" value="Add row" onclick="addRow1('tb1')"
                                class="btn btn-outline-warning">Add
                                Service(s)</button>
                            <button type="button" id="Remove1" value="Delete row" onclick="deleteRow1('tb1')"
                                class="btn btn-outline-light">Delete
                                Service(s)</button>
                            <button type="button" id="GrandTot1" value="Estimate" onclick="displayGrandTotal('tb1')"
                                class="btn btn-outline-success">Estimate Now
                            </button>
                        </div>

                    </div>

                </div>
            </div>
        </div>





    </div>

</body>

</html>